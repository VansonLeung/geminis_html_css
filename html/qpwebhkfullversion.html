<section>
<div id="sercallloader" style="display: none "> <div class="valgin center progress" style="margin: auto; width: 70%; overflow: hidden; border-radius: 20px; "> <div class="indeterminate"></div> </div> </div>

<div class="row" style="max-width: 1200px">
<div class="col l9">
<div class="gem_form notopstripe" style="border-radius: 8px; width: auto; max-width: 896px">
<div>
<div style="  width: 100%; height: 10px;  background-color: #ce0f00; ">&nbsp;</div>

<div id="alertshowarea" style="width:100%;min-height: 400px; padding-top: 66px !important; display:none">
<p class="finishmsg" style="text-align: center;"><img class="msgiconfinish" src="../../../images/complete icon.png" /></p>

<p class="finishmsg" id="callstate" style="text-align: center;">已完成</p>

<p class="refnumlabel" id="calldesc" style="text-align: center;">参考编号: 000000</p>
</div>

<div id="headertop" style="display: -webkit-flex; display: -ms-flexbox; display: flex; padding:42px">
<div style="width:100%">
<div>
<h3 style="margin:0;margin-bottom:16px;font-size: 24px; line-height: 1.5; letter-spacing: normal; text-align: left; color: #333; ">QP-Web HK 9.0 Full Version</h3>

<p style="margin:0;font-size: 18px; line-height: 28px; letter-spacing: normal; text-align: left; color: #333333; ">XXX证券有限公司提供实时串流报价，最新的财经新闻和信息。<br />
订阅的实时报价服务。</p>
</div>
</div>

<div style="padding: 0 ">
<div class="generic-button-big gb-primary" style="background-color: #ce0f00 !important;"><a onclick="callser();" style="color:white !important;">申請 </a></div>
</div>
</div>

<div id="detailsbody" style="padding:42px">
<div class="row">
<div class="col s12 m12 l6"><img src="http://www.cherrypicks.com/sites/default/files/styles/home-highlight/public/highlight/thumbnail/20160422_ARwiz_highlight_295x150.png?itok=q5WSv8Fa" style="width:100%;object-fit: contain;box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.3);" /><br />
&nbsp;
<div class="gem_form materialize">
<div class="carousel carousel-slider center" data-indicators="true">
<div class="carousel-item red white-text" href="#one!"><img id="showplanimg" src="http://www.cherrypicks.com/sites/default/files/styles/media-thumbnail/public/media/thumbnail/Annual_thumbnails.jpg?itok=EfcTD9Ra" style="width:100%;object-fit: contain;box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.3);" /></div>

<div class="carousel-item amber white-text" href="#two!"><img id="showplanimg" src="http://www.cherrypicks.com/sites/default/files/styles/media-thumbnail/public/media/thumbnail/ARex_thumbnails.jpg?itok=GXdl5JX7" style="width:100%;object-fit: contain;box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.3);" /></div>

<div class="carousel-item green white-text" href="#three!"><img id="showplanimg" src="http://www.cherrypicks.com/sites/default/files/styles/media-thumbnail/public/media/thumbnail/media_Recruit_thumbnails.jpg?itok=f03ZaEmx" style="width:100%;object-fit: contain;box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.3);" /></div>
</div>
</div>
</div>

<div class="col s12 m12 l6">
<div>
<h4 style="font-size:20px; color:#333333; border-bottom:1px solid #333;padding: 10px 0px;">簡介</h4>

<ul style="list-style-type: disc;">
<li style="list-style-type: disc;margin-left: 30px;"><p style="font-size: 16px;line-height: 30px;color:#333;">Detailed HK stock quotes, 10-level market depth, broker queues, and all-day transactions </p></li>
<li style="list-style-type: disc;margin-left: 30px;"><p style="font-size: 16px;line-height: 30px;color:#333;">Hang Seng indices </p></li>
<li style="list-style-type: disc;margin-left: 30px;"><p style="font-size: 16px;line-height: 30px;color:#333;">Index futures and index options from Hong Kong Futures Exchange (HKFE) </p></li>
<li style="list-style-type: disc;margin-left: 30px;"><p style="font-size: 16px;line-height: 30px;color:#333;">Company listing news for main board and GEM board from SEHK </p></li>
<li style="list-style-type: disc;margin-left: 30px;"><p style="font-size: 16px;line-height: 30px;color:#333;">Ming Pao Chinese news provided during the promotional period </p></li>
<li style="list-style-type: disc;margin-left: 30px;"><p style="font-size: 16px;line-height: 30px;color:#333;">HK Company Profile provides English and Chinese listed company information including Company Profile, Earnings Summary, Profit & Loss Account, Balance Sheet, Financial Ratios, Cash Flow Statement, Quarterly/Interim Results, Entitlement History, and Shares Buyback, etc. </p></li>
<li style="list-style-type: disc;margin-left: 30px;"><p style="font-size: 16px;line-height: 30px;color:#333;">Dow Jones Asia Pacific Equity News provides Asia Pacific real-time English and Chinese financial market news and equity news during trading hours </p></li>
<li style="list-style-type: disc;margin-left: 30px;"><p style="font-size: 16px;line-height: 30px;color:#333;">World Markets provides modest updates of major foreign exchange rates, cross rates, and delayed worldwide indices for users' references</p></li>
<li style="list-style-type: disc;margin-left: 30px;"><p style="font-size: 16px;line-height: 30px;color:#333;">QPI Market Watch consists of exceptional movement notice (Exceptional Movement Stocks and Exceptional Movement Warrants under the “Market Memo” section), and features that keep you abreast of insider activities (Insider Filings), daily stocks picks by leading broker firms (Broker Recommendations) as well as warrants and CBBCs recommended by major issuers (Warrant Insights and CBBC Insights)</p></li>

</ul>
</div>

<div>
<h4 style="font-size:20px; color:#333333; border-bottom:1px solid #333;padding: 10px 0px;">收费详情</h4>

<h4 style="font-size: 20px;line-height: 30px;color:#ce0f00;">＄994.49</h4>

<p style="font-size: 16px;line-height: 30px;color:#333;">XXX证券有限公司提供实时串流报价，最新的财经新闻和信息。订阅的实时报价服务。</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- right menu -->

<div class="col s12 m12 l3"><!-- desktop show -->
<div class="deskshow">
<div class="rightButtoGrp">
<div class="prevLeftBtn" style="height:132px;background-color:#bc0000;margin: 0;line-height: 132px;border-top-left-radius:8px;border-top-right-radius:8px;">
<p style="font-size:20px;color:#fff;margin:0;float:left"><a href="#" style="color:white;"><span style="padding:0px 20px;">&lt;</span>上一服务计划</a></p>
</div>

<div class="prevRightBtn" style="height:132px;background-color:#d94634;margin: 0;line-height: 132px;border-bottom-left-radius:8px;border-bottom-right-radius:8px;">
<p style="font-size:20px;color:#fff;margin:0;float:right"><a href="#" style="color:white;">下一服务计划 <span style="padding:0px 20px;">&gt;</span></a></p>
</div>
</div>
<!-- iframe news -->

<div class="center valign-wrapper hidewhenmobile" style="width:100%;min-height:200px;background-color:white;margin-top: 20px;">
<h5 style="width:100%">news iframe area</h5>
</div>
<!-- iframe news --></div>
<!-- desktop show --><!-- mobile show -->

<div class="mobileshow row">
<div class="col s6 m6 l6" style="padding: 0px">
<div class="prevLeftBtn" style="height:132px;background-color:#bc0000;margin: 0;line-height: 132px;">
<p style="font-size:20px;margin:0;float:left"><a href="#" style="color:white;"><span style="padding:0px 20px;">&lt;</span>上一服务计划</a></p>
</div>
</div>

<div class="col s6 m6 l6" style="padding: 0px">
<div class="prevRightBtn" style="height:132px;background-color:#d94634;margin: 0;line-height: 132px;">
<p style="font-size:20px;margin:0;float:right"><a href="#" style="color:white;">下一服务计划 <span style="padding:0px 20px;">&gt;</span></a></p>
</div>
</div>
</div>
<!-- mobile show --></div>
<!-- right menu --></div>
</section>
<script>


$(function(){
    window.callloader = function callloader(state){
        if(state){
            $("#sercallloader").attr("style","position: absolute; float: right; z-index: 100; width: 100%; height: 100%; top: 0; left: 0; background-color: rgba(94, 94, 94, 0.5); overflow: auto; display: flex;");
        }else{
            $("#sercallloader").attr("style","position: absolute; float: right; z-index: 100; width: 100%; height: 100%; top: 0; left: 0; background-color: rgba(94, 94, 94, 0.5); overflow: auto; display: none;");
        }
    }
    window.loadUIDataSet = function loadUIDataSet() {

        let dataSet = {}
        dataSet.acct = "9910-268";
        dataSet.pwd = "12345678";
        dataSet.loginid = "@{S:CLIENTID}";
        // dataSet.loginid = "9910-268";
        dataSet.loginpw = "12345678";
        return dataSet;
    }
    window.serCallHandle = function serCallHandle(res,trueFlag){
        console.log("Res - Data ", res.data);
        if(!trueFlag){
                    $("#alertshowarea").show();
                    $(".msgiconfinish").attr('src','../../../images/notcomplete-icon.png');
                    $("#callstate").text(nls.fail);
                    $("#calldesc").text('');
                    setTimeout(function() {
                    	$("#alertshowarea").fadeOut(500);
                    }, 2000);
        }else{
	        if (res.data) {
	            if(res.data.isSuccessField && res.data.isSuccessField == 'Y'){
	            	$("#alertshowarea").show();
	            	$(".msgiconfinish").attr('src','../../../images/complete icon.png');
	            	$("#callstate").text(nls.success);
	            	if(res.data.SubscriptionIDField && res.data.SubscriptionIDField !=''){
		            	$("#calldesc").text(nls.desc + res.data.SubscriptionIDField);
	            	}else{
		            	$("#calldesc").text('');
	            	}
                    setTimeout(function() {
                    	$("#alertshowarea").fadeOut(500);
                    }, 2000);
	            }else{
	            	$("#alertshowarea").show();
	            	$(".msgiconfinish").attr('src','../../../images/notcomplete-icon.png');
	            	$("#callstate").text(nls.fail);
	            	$("#calldesc").text('');
	            	setTimeout(function() {
	            		$("#alertshowarea").fadeOut(500);
	            	}, 2000);
	            }
	        } 
        }   	
    }

    window.callSOAPapi = function callSOAPapi(loaddata, callback) {
        $.ajax({
            type: 'POST',
            url: 'http://dev.oicomg.in:13000/GeminisAPI/ttl/submitSoapQuery',
            data: JSON.stringify(loaddata),
            dataType: 'json',
            success: function(responseData, textStatus, jqXHR) {
                console.log("SerCall - " + loaddata.form.name, responseData);
            	serCallHandle(responseData,true);
                (callback && typeof(callback) === "function") && callback();
            },
            error: function(responseData, textStatus, errorThrown) {
            	serCallHandle(responseData,false);
                (callback && typeof(callback) === "function") && callback();
            }
        });
    }

    window.convtoi18n = function convtoi18n(lang,culture){
        let langculture = [];
        let sellang = lang+'_'+culture;
        langculture['zh_HK'] = "zh_TW";
        langculture['zh_TW'] = "zh_TW";
        langculture['zh_CN'] = "zh_CN";
        langculture['en_US'] = "en_US";
        if(langculture[sellang] == undefined){
            return 'en_US';
        }else{
            return langculture[sellang];
        }
    }

window.getToday = function getToday(){
	let today = new Date();
	let dd = today.getDate();
	let mm = today.getMonth()+1; //January is 0!
	let yyyy = today.getFullYear();
	let hh = today.getHours();
	let min = today.getSeconds();
	let sec = today.getMinutes();

	if(dd<10) {
	    dd='0'+dd
	} 

	if(mm<10) {
	    mm='0'+mm
	} 

	today = yyyy+'-'+ mm+'-'+dd+' '+hh+'.'+min+'.'+sec;
	return today;	
}
    window.callser = function callser(callback) {

            window.nls = {
                done: '完成',
                success: '已完成',
				desc: '参考编号:',
				fail: '未能完成',
                loginacctfirst: '请先登入帐号'
            };
        if (glo.sessionid == '' || glo.clientid == '') {

            alert(nls.loginacctfirst);
            return;
        }
 
   	instSettlementForm = {
                clientID: glo.clientid,
                subscriptionPlan: '1',
                subscriptionTimestamp: getToday(),
                language: glo.locallang,
                sessionID: glo.sessionid
              }

        let loadDS = loadUIDataSet();
        let dataSet = {
            "form": {
                "name": "subscribeMarketData",
                "credentials": {
                    "username": loadDS.acct,
                    "password": loadDS.pwd
                },
                "header": {
                    "version": "1",
                    "traceNo": "1"
                },
                "body": instSettlementForm
            }
        }
	        callSOAPapi(dataSet, function() {
	            (callback && typeof(callback) === "function") && callback();
	        });
	 

    }



            $(window).resize(function(){
                rewindowsize();
            });
            

            

            window.rewindowsize = function rewindowsize(){
                let curwei= $(document).width();
                let desksizetable = $(".deskshow");
                let mosizetable = $(".mobileshow");
                if(curwei <= 992){
                    // isdeskStocktable = false;
                    desksizetable.hide();
                    mosizetable.show();
                }else{
                    // isdeskStocktable = true;
                    desksizetable.show();
                    mosizetable.hide();
                }
            }    

            rewindowsize();

// init
            window.instSettlementForm = {};
            window.glo = {}

            window.prevPage = 3;
            window.curselPage = 0;
            window.nextPage = 1;
            window.planLstLink = [
            'qpwebhkfullversion',
            'qpwebhkjuniorxversion',
            'shhkstockconnectvas',
            'szhkstockconnectvas'
            ]
            $('body').on('click','.prevLeftBtn',function(e){ window.location.href = planLstLink[prevPage]; });
            $('body').on('click','.prevRightBtn',function(e){ window.location.href = planLstLink[nextPage]; });

            glo.sessionid = "@{S:SESSIONID}";
            glo.clientid = "@{S:CLIENTID}";
            let transacctlst = '@{S:TRADINGACCLIST}';
            // glo.sessionid = '';
            // glo.clientid = '';
            // let transacctlst = '';
             transacctlst = '';
            transacctlst != "" && (glo.tranaccseq = JSON.parse(transacctlst));

            glo.locallang =convtoi18n("@{S:LANG}","@{S:CULTURE}");

$('.carousel.carousel-slider').carousel({full_width: true});


});
</script>